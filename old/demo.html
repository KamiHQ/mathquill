<!DOCTYPE html>
<head>

<title>LatexLive 0.xa Demo</title>

<link rel="stylesheet" type="text/css" href="latexlive.css">

<script type="text/javascript" src="vendor/jquery.min.js"></script>

<script type="text/javascript" src="latexlive.js"></script>

<script type="text/javascript">
var LatexImages = false;
$(function(){
    var editingSource=false,latexMath = LatexRoot('#talkmath').change(function(){
        var latex = this.latex();
	//location.hash = '#'+latex; //extremely performance-crippling in Chrome for some reason
        if(!editingSource)
            $('#latex-source').val(latex);
	if(!LatexImages)
            return;
        latex = encodeURIComponent(latex);
        $('#googlecharts').attr('src','http://chart.apis.google.com/chart?cht=tx&chl='+latex).next().attr('href','http://chart.apis.google.com/chart?cht=tx&chl='+latex);
        $('#codecogs').attr('src','http://latex.codecogs.com/gif.latex?'+latex).next().attr('href','http://latex.codecogs.com/gif.latex?'+latex);
    });
    if(location.hash && location.hash.length > 1){
        latexMath.latex(decodeURIComponent(location.hash.slice(1)));
        LatexRoot.cursor.appendTo(latexMath);
    }
    $('#latex-source').focus(function(){
        editingSource = true;
    }).blur(function(){
        editingSource = false;
    }).keydown(function(){
	var textarea = $(this), oldtext = textarea.val();
        setTimeout(function(){
            var newtext = textarea.val();
            if(newtext != oldtext)
                latexMath.latex(newtext);
        },1);
    });
});
</script>

<style type="text/css">

#latex-source {
    font-family: "Courier New",Courier,monospace;
}

img {
    vertical-align:middle;
}

</style>

</head>
<body style="width:6.5in;margin:0 auto;">

<h1><a href="http://latexlive.googlecode.com">LatexLive 0.x&alpha;</a></h1>

<h3>Type in Latex Math and watch it render in real-time</h3>

<p>by Jay and Han (<a href="mailto:laughinghan@gmail.com">laughinghan@gmail.com</a>) See also: <a href="http://latexlive.googlecode.com">latexlive.googlecode.com</a>

<p><span id="talkmath">Talk Math:</span></p>

<p>Latex source: <textarea id="latex-source" style="width:80%;vertical-align:top"></textarea></p>

<p><button onclick="LatexImages = true;$('#talkmath').next().change()">Turn on Images</button></p>

<p>Google Charts: <img id="googlecharts"> <a>Link</a></p>

<p>Code Cogs: <img id="codecogs"> <a>Link</a></p>

</body>
